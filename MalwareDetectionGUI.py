import os
import hashlib
import magic
import pefile
from sklearn.model_selection import train_test_split
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score
import yara
import tkinter as tk
from tkinter import filedialog

# Rest of your functions (file_properties, calculate_hashes, static_analysis, etc.)

# Function to handle file selection using GUI
def select_file():
    file_path = filedialog.askopenfilename(title="Select Malware Sample")
    if file_path:
        analyze_file(file_path)

# Function to analyze the selected file
def analyze_file(file_path):
    # Rest of your analysis functions
    print(f"Selected File: {file_path}")
    size, file_type = file_properties(file_path)
    md5_hash, sha1_hash, sha256_hash = calculate_hashes(file_path)
    # Rest of the analysis
    # ...

# Function to perform dynamic analysis
def dynamic_analysis(file_path):
    # Execute the file in a sandbox environment
    # Monitor system behavior and capture network traffic
    # ...

# Rest of your functions

# Main function
def main():
    root = tk.Tk()
    root.title("Malware Analysis GUI")

    # Create GUI elements
    select_button = tk.Button(root, text="Select Malware Sample", command=select_file)
    select_button.pack(pady=20)

    root.mainloop()

if __name__ == "__main__":
    main()
